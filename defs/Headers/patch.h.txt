include Headers\windows.h.txt

header
alias PPATCH_PROGRESS_CALLBACK LPVOID

alias PPATCH_SYMLOAD_CALLBACK LPVOID

struct [PATCH_INTERLEAVE_MAP_s] display=struct
  OldOffset ULONG
  OldLength ULONG
  NewLength ULONG

array "[PATCH_INTERLEAVE_MAP_s] [1]" base=[PATCH_INTERLEAVE_MAP_s] count=1 display="struct [1]"

struct PATCH_INTERLEAVE_MAP
  CountRanges ULONG
  Range "[PATCH_INTERLEAVE_MAP_s] [1]" count=CountRanges

pointer PPATCH_INTERLEAVE_MAP PATCH_INTERLEAVE_MAP

pointer PPATCH_INTERLEAVE_MAP* PPATCH_INTERLEAVE_MAP

struct PATCH_IGNORE_RANGE
  OffsetInOldFile ULONG
  LengthInBytes ULONG

pointer PPATCH_IGNORE_RANGE PATCH_IGNORE_RANGE

struct PATCH_RETAIN_RANGE
  OffsetInOldFile ULONG
  LengthInBytes ULONG
  OffsetInNewFile ULONG

pointer PPATCH_RETAIN_RANGE PATCH_RETAIN_RANGE

flag [PatchSymbolOptions] ULONG display=ULONG
  PATCH_SYMBOL_NO_IMAGEHLP     0x00000001
  PATCH_SYMBOL_NO_FAILURES     0x00000002
  PATCH_SYMBOL_UNDECORATED_TOO 0x00000004
  PATCH_SYMBOL_RESERVED1       0x80000000

flag [PatchExtendedOptions] ULONG display=ULONG
  PATCH_TRANSFORM_PE_RESOURCE_2 0x00000100
  PATCH_TRANSFORM_PE_IRELOC_2   0x00000200

struct PATCH_OPTION_DATA
  SizeOfThisStruct ULONG
  SymbolOptionFlags [PatchSymbolOptions]
  NewFileSymbolPath LPCSTR
  OldFileSymbolPathArray LPCSTR*
  ExtendedOptionFlags [PatchExtendedOptions]
  SymLoadCallback PPATCH_SYMLOAD_CALLBACK
  SymLoadContext PVOID
  InterleaveMapArray PPATCH_INTERLEAVE_MAP*
  MaxLzxWindowSize ULONG

pointer PATCH_OPTION_DATA* PATCH_OPTION_DATA

pointer PPATCH_OPTION_DATA PATCH_OPTION_DATA

struct PATCH_OLD_FILE_INFO_H
  SizeOfThisStruct ULONG
  OldFileHandle HANDLE
  IgnoreRangeCount ULONG
  IgnoreRangeArray PPATCH_IGNORE_RANGE
  RetainRangeCount ULONG
  RetainRangeArray PPATCH_RETAIN_RANGE

pointer PPATCH_OLD_FILE_INFO_H PATCH_OLD_FILE_INFO_H

union [PATCH_OLD_FILE_INFO_u] display=union
  OldFileNameA LPCSTR
  OldFileNameW LPCWSTR
  OldFileHandle HANDLE

struct PATCH_OLD_FILE_INFO
  SizeOfThisStruct ULONG
   [PATCH_OLD_FILE_INFO_u]
  IgnoreRangeCount ULONG
  IgnoreRangeArray PPATCH_IGNORE_RANGE
  RetainRangeCount ULONG
  RetainRangeArray PPATCH_RETAIN_RANGE

pointer PPATCH_OLD_FILE_INFO PATCH_OLD_FILE_INFO

flag [PatchOptionFlags] ULONG display=ULONG
  PATCH_OPTION_USE_BEST          0x00000000
  PATCH_OPTION_USE_LZX_A         0x00000001
  PATCH_OPTION_USE_LZX_B         0x00000002
  PATCH_OPTION_USE_LZX_BEST      0x00000003
  PATCH_OPTION_USE_LZX_LARGE     0x00000004
  PATCH_OPTION_NO_BINDFIX        0x00010000
  PATCH_OPTION_NO_LOCKFIX        0x00020000
  PATCH_OPTION_NO_REBASE         0x00040000
  PATCH_OPTION_FAIL_IF_SAME_FILE 0x00080000
  PATCH_OPTION_FAIL_IF_BIGGER    0x00100000
  PATCH_OPTION_NO_CHECKSUM       0x00200000
  PATCH_OPTION_NO_RESTIMEFIX     0x00400000
  PATCH_OPTION_NO_TIMESTAMP      0x00800000
  PATCH_OPTION_SIGNATURE_MD5     0x01000000
  PATCH_OPTION_INTERLEAVE_FILES  0x40000000
  PATCH_OPTION_RESERVED1         0x80000000

